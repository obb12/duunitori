function setReturn(){sessionStorage&&sessionStorage.setItem("jobentry:returning",!0)}function isReturn(){if(sessionStorage&&sessionStorage.getItem("jobentry:returning"))return sessionStorage.removeItem("jobentry:returning"),!0}function scrollToJobEntryPick(){var t=getJobEntryPick();if(t&&isReturn()){var e=$(".job-box").find("[data-job-slug='"+t+"']");if(e){var o=0;null===$(".nav__menu--desktop")[0].offsetParent&&(o+=$("nav.nav").outerHeight(),o+=$(".js-sticky-filters").outerHeight()),$("html, body").animate({scrollTop:e.offset().top-o},500)}deleteJobEntryPick()}}function deleteJobEntryPick(){sessionStorage&&sessionStorage.removeItem("jobentry:latest")}function getJobEntryPick(){if(sessionStorage)return sessionStorage.getItem("jobentry:latest")}function saveJobEntryPick(t){t&&sessionStorage&&sessionStorage.setItem("jobentry:latest",t)}function onPromoClick(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"promotionClick",ecommerce:{promoClick:{promotions:[{id:t.id,name:t.name,position:t.pos}]}}})}function onSearchJobEntryClick(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"jobAdClicked",jobResultIndex:t.pos}),window.dataLayer.push({event:"clickJobAd",ecommerce:{click:{actionField:{list:t.list},products:[{id:t.id,name:t.name,category:t.category,brand:t.brand,variant:t.variant,position:t.pos}]}}})}function toggleFixedBody(){if($(window).width()<=BREAKPOINT_DESKTOP)if("fixed"==document.body.style.position){var t={position:"",overflow:""};$("body").css(t)}else{t={position:"fixed",overflow:"hidden"};$("body").css(t)}}function overlay(){$(".modal-overlay--nav").toggleClass("modal-overlay--visible")}function navToggle(){document.querySelector(".js-nav-toggle__content").classList.toggle("nav__menu--visible"),toggleFixedBody(),overlay()}var w=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;function subNavToggle(t,e,o){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>"1024"||(t.preventDefault(),e.parents(".nav__item--"+o).toggleClass("nav__item--open"),e.parents(".nav__item--"+o).find(".nav__item--open").removeClass("nav__item--open"),!1)}function navToggleSearch(t){var e=$(".js-nav-toggle__search");e.toggleClass("nav__menu--visible");var o=$("#search-autocomplete-mobile").find(".taggle_input.ui-autocomplete-input");if(e.hasClass("nav__menu--visible")){var i=o.parent().width();o.css({"min-width":i}),o.focus()}else o.focusout();toggleFixedBody(),overlay()}function navToggleSearchSummer(){var t=$(".js-nav-toggle__search--summer");t.toggleClass("nav__menu--visible");var e=$("#search-autocomplete-mobile").find(".taggle_input.ui-autocomplete-input");if(t.hasClass("nav__menu--visible")){var o=e.parent().width();e.css({"min-width":o}),e.focus()}else e.focusout();toggleFixedBody(),overlay()}function navToggleFilter(){var t=document.querySelector(".js-nav-toggle__filter");t.classList.toggle("nav__menu--hidden"),t.classList.toggle("nav__menu--visible"),overlay()}function navToggleFavourite(){var t=document.querySelector(".js-modal__favourite");t.classList.toggle("modal--hidden"),(t=document.querySelector(".js-modal__favourite--overlay")).classList.toggle("modal-overlay--visible")}function navToggleJobwatch(){var t=document.querySelector(".js-modal__jobwatch");t.classList.toggle("modal--hidden"),(t=document.querySelector(".js-modal__jobwatch--overlay")).classList.toggle("modal-overlay--visible"),toggleFixedBody()}function copyToClipboard(){var t=document.querySelector(".btn-outline-copiable");str=t.getAttribute("value"),copyStringToClipBoard(str)}function navToggleEmailApply(){var t=document.querySelector(".js-modal__email_apply");t.classList.toggle("modal--hidden"),(t=document.querySelector(".js-modal__email_apply--overlay")).classList.toggle("modal-overlay--visible"),toggleFixedBody()}function copyStringToClipBoard(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style={position:"absolute",left:"-9999px"},document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function viewMore(){var t=document.querySelector(".js-description-box");if(t&&t.classList){t.classList.toggle("description-box--view");var e=document.querySelector(".js-view-more");t.classList.contains("description-box--view")?e.innerHTML='PIILOTA <svg width="13" height="9" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"><g id="Group-42" transform="rotate(-180 5.5 3.5)" stroke="#001E43" stroke-width="2"><g id="arrow-down-copy"><path d="M.222.239L4.848 5.22" id="Line-Copy-2"/><path d="M4.946 5.076L9.572.093" id="Line-Copy-3"/></g></g></g></svg>':e.innerHTML='NÄYTÄ LISÄÄ TIETOJA <svg width="13" height="9" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"><g id="Group-42" transform="translate(2 2)" stroke="#001E43" stroke-width="2"><g id="arrow-down-copy"><path d="M.222.239L4.848 5.22" id="Line-Copy-2"/><path d="M4.946 5.076L9.572.093" id="Line-Copy-3"/></g></g></g></svg>'}}function createTooltip(t){var e=document.createElement("div");return e.innerHTML=t,$(e).addClass("tooltip"),e}function calculatePosition(t,e){var o=($(t).outerWidth()-$(e).outerWidth())/2;o=$(t).position().left+o;var i=$(t).position().top-$(e).outerHeight()-10;$(e).css("left",o),$(e).css("top",i)}function tooltipShow(){var t=createTooltip($(this).attr("data-tooltip"));$("body").append($(t)),calculatePosition(this,t)}function tooltipHide(){$(".tooltip").remove()}function handleCloseBtn(t){var e=$(t.target).parents(".js-close-element");e.length&&(t.preventDefault(),e.data("close-class")?e.addClass(e.data("close-class")):(e.hide(),e.data("close-others")&&e.data("close-others").split(",").forEach(function(t){$("."+t).hide()})))}function goToPreviousPage(){window.history&&window.history.back&&window.history.back()}function bindEventHandlersIn(t){t.find(".dropdown__item").click(function(t){t.preventDefault(),"A"===t.target.nodeName?$(this).focus():$(this).blur()}),t.find(".js-save-favorite").click(function(t){var e=$(this).data("job-slug"),o=$(this).data("job-id")||$(this).attr("id");t.preventDefault(),toggleFav(e,o,$(this))}),t.find(".js-scroll-to").click(function(t){t.preventDefault();var e=$(this).attr("href"),o=$(e).offset();$("html, body").stop().animate({scrollTop:o.top-30},500),t.preventDefault()}),t.find(".footer__backtop").on("click",function(t){t.preventDefault(),$("html,body").animate({scrollTop:0},"slow")}),t.find(".icon__showmore").on("click",function(t){t.preventDefault();var e=$(this).attr("src");e.search("down")>-1?$(this).attr("src",e.replace("down","up")):$(this).attr("src",e.replace("up","down")),$(this).closest(".footer__sectionmenu").children(".footer--list").slideToggle("slow")}),t.find(".js-show-other__button").on("click",function(t){t.preventDefault(),$(".js-gdpr-other__content").toggleClass("gdpr-other__content--hidden")});var e="dt-duunivaalit-popup-19",o=$(".js-wide-top-popup-close"),i=$(".wide-top-popup");o.on("click touchstart",function(){setCookie(e,!0,1)});var n=navigator.cookieEnabled;!getCookie(e)&&n?i.removeClass("wide-top-popup--hide"):i.addClass("wide-top-popup--hide"),$(".js-animate-close").on("click",function(){var t=$(this).closest(".animate-close-container");t.animate({height:"0"},500,function(){t.remove()})}),$(".js-animate-open").on("click",function(){var t=$(".animate-open-container");t.toggleClass("animate-open-container--view"),t.hasClass("animate-open-container--view")?$(this).html("Piilota lisätiedot"):$(this).html("Näytä lisätietoja ehdokkaasta")});var s={};t.find(".js-salary-search [data-autocomplete]").each(function(){var t=$(this);$script.ready(["ui"],function(){var e=t.attr("data-autocomplete");e&&(t.autocomplete({minLength:2,source:function(t,o){var i=t.term;i in s?o(s[i]):$.getJSON(e,{haku:i},function(t){s[i]=t.results,o(s[i])})}}).autocomplete("instance")._renderItem=function(t,e){var o=JOB_ICON_SRC;return $("<li>").append("<div class='dt-autocomplete'><img class='dt-autocomplete__icon' src="+o+"><div class='dt-autocomplete__heading'>"+e.label+"</div><div class='dt-autocomplete__count'></div></div>").appendTo(t)})})}),t.find(".gtm-recommendation").on("click",function(t){var e=$(this);onPromoClick({id:e.data("id"),name:e.parent().find(".job-box__title").text(),pos:e.data("position"),destinationUrl:e.attr("href")})}),t.find(".gtm-search-result").on("click",function(t){var e=$(this);onSearchJobEntryClick({pos:e.data("position"),id:e.data("id"),list:"Hakutulokset",name:e.parent().find(".job-box__title").text(),brand:e.data("company"),category:e.data("category"),variant:e.data("variant")})}),$(".js-tag-scroll--filters-mobile .tag").on("click",function(t){var e=$(this),o=(e.val(),e.attr("name"));e.hasClass("tag--selected")&&"order_by"!==o?e.removeClass("tag--selected"):($(".js-tag-scroll--filters-mobile .tag[name="+o+"]").removeClass("tag--selected"),e.addClass("tag--selected"))}),$(".js-search-filters-mobile--clear").on("click",function(t){$(".js-search-filters-mobile--select select").val(""),$(".js-tag-scroll--filters-mobile .tag").removeClass("tag--selected"),$(".js-tag-scroll--filters-mobile .tag[value=search_rank]").addClass("tag--selected"),$(".js-search-filters-mobile--select input").val("")}),t.find(".btn-loader").on("click",function(t){var e=!1;if($("input,textarea,select").filter("[required]:visible").each(function(){""===$(this).val()&&(e=!0)}),!e){var o=$(this),i=o.outerWidth();$(o).css("width",i),o.html('<div class="dropdown-submenu__item__loader loader loader6"><svg width="30px" height="6px" viewBox="0 0 38 10"><circle fill="#3A3A3A" cx="4" cy="5" r="4"/><circle fill="#3A3A3A" cx="19" cy="5" r="4"/><circle fill="#3A3A3A" cx="34" cy="5" r="4"/></svg></div>')}}),$(window).width()>=BREAKPOINT_DESKTOP&&t.find(".js-tooltip").hover(tooltipShow,tooltipHide),t.click(function(t){t.target&&t.target.classList&&(t.target.classList.contains("js-close-btn")&&handleCloseBtn(t),(t.target.classList.contains("js-go-to-previous-page")||findAncestor(t.target,"js-go-to-previous-page"))&&goToPreviousPage())})}function findAncestor(t,e){for(;(t=t.parentElement)&&t&&t.classList&&!t.classList.contains(e););return t}$(".js-subnav-toggle--primary").click(function(t){subNavToggle(t,$(this),"primary")}),$(".js-subnav-toggle--secondary").click(function(t){subNavToggle(t,$(this),"secondary")}),function(){if(window.history&&window.history.back)for(var t=document.querySelectorAll(".js-go-to-previous-page"),e=0;e<t.length;e++){t[e].style.display="block"}}();var BREAKPOINT_DESKTOP=1025;$(document).ready(function(){$.fn.isOverViewport=function(){return $(this).offset().top+$(this).height()<$(window).scrollTop()},$.fn.hideFixedBar=function(){$(this).removeClass("sticky-bar sticky-bar--slide sticky-bar--visible"),$(this).parent().css("padding-bottom",0),$("footer").css("padding-bottom",0),$(".js-sticky-bar__desk-content").hide()},$.fn.toStickyBar=function(t){$(this).addClass("sticky-bar sticky-bar--slide")},$.fn.showDescriptionBox=function(){$(this).addClass("description-box--view")},$(window).on("resize scroll",function(){var t=$(".js-sticky-bar--apply-job"),e=t.height(),o=$(".js-breakpoint-toStickyBar");o.length>0&&(o.isOverViewport()?(t.toStickyBar(e),$(window).width()>=BREAKPOINT_DESKTOP?(t.parent().css("padding-bottom","7rem"),$("footer").css("padding-bottom","7rem"),$(".js-sticky-bar__desk-content").show()):(t.parent().css("padding-bottom","6.6rem"),$("footer").css("padding-bottom","6.6rem")),window.setTimeout(function(){o.isOverViewport()?t.addClass("sticky-bar--visible"):t.hideFixedBar()},300)):t.hideFixedBar())});var t=$(".js-description-box");if($(window).width()>=BREAKPOINT_DESKTOP)var e=300;else e=119;t&&t.height()<e&&(t.showDescriptionBox(),$(".js-view-more").hide()),$(".list__item--show:gt(9)").hide().last().after($(".js-list__item--show-more").click(function(t){t.preventDefault();$(".list__item--show:not(:visible)").css("display","inline-block"),setTimeout(function(){$(".list__item--show").css("opacity",1)},10),0==$(".list__item--show:not(:visible)").length&&$(this).remove()})),0==$(".list__item--show:not(:visible)").length&&$(".js-list__item--show-more").remove();$(".js-show-read-more").each(function(){var t=$(this).text();if($.trim(t).length>130){var e=t.substring(0,130),o=t.substring(130,$.trim(t).length);$(this).empty().html(e),$(this).append('<span class="read-more">... </span><a href="javascript:void(0);" class="read-more read-more--link">lue lisää</a>'),$(this).append('<span class="more-text">'+o+"</span>")}}),$(".read-more").click(function(){$(this).siblings(".more-text").contents().unwrap(),$(".read-more").remove()}),bindEventHandlersIn($("body")),scrollToJobEntryPick()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2V0UmV0dXJuIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwiaXNSZXR1cm4iLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsInNjcm9sbFRvSm9iRW50cnlQaWNrIiwiam9iZW50cnkiLCJnZXRKb2JFbnRyeVBpY2siLCJlbCIsIiQiLCJmaW5kIiwiZXh0cmEiLCJvZmZzZXRQYXJlbnQiLCJvdXRlckhlaWdodCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJkZWxldGVKb2JFbnRyeVBpY2siLCJzYXZlSm9iRW50cnlQaWNrIiwic2x1ZyIsIm9uUHJvbW9DbGljayIsInByb21vT2JqIiwid2luZG93IiwiZGF0YUxheWVyIiwicHVzaCIsImV2ZW50IiwiZWNvbW1lcmNlIiwicHJvbW9DbGljayIsInByb21vdGlvbnMiLCJpZCIsIm5hbWUiLCJwb3NpdGlvbiIsInBvcyIsIm9uU2VhcmNoSm9iRW50cnlDbGljayIsImpvYk9iaiIsImpvYlJlc3VsdEluZGV4IiwiY2xpY2siLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJwcm9kdWN0cyIsImNhdGVnb3J5IiwiYnJhbmQiLCJ2YXJpYW50IiwidG9nZ2xlRml4ZWRCb2R5Iiwid2lkdGgiLCJCUkVBS1BPSU5UX0RFU0tUT1AiLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsInN0eWxlcyIsIm92ZXJmbG93IiwiY3NzIiwib3ZlcmxheSIsInRvZ2dsZUNsYXNzIiwibmF2VG9nZ2xlIiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInciLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzdWJOYXZUb2dnbGUiLCJlIiwibHZsIiwicHJldmVudERlZmF1bHQiLCJwYXJlbnRzIiwicmVtb3ZlQ2xhc3MiLCJuYXZUb2dnbGVTZWFyY2giLCJzaXRlU2VhcmNoIiwiZWxlbWVudCIsInNlYXJjaElucHV0TW9iaWxlIiwiaGFzQ2xhc3MiLCJsaVdpZHRoIiwicGFyZW50IiwibWluLXdpZHRoIiwiZm9jdXMiLCJmb2N1c291dCIsIm5hdlRvZ2dsZVNlYXJjaFN1bW1lciIsIm5hdlRvZ2dsZUZpbHRlciIsIm5hdlRvZ2dsZUZhdm91cml0ZSIsIm5hdlRvZ2dsZUpvYndhdGNoIiwiY29weVRvQ2xpcGJvYXJkIiwic3RyIiwiZ2V0QXR0cmlidXRlIiwiY29weVN0cmluZ1RvQ2xpcEJvYXJkIiwibmF2VG9nZ2xlRW1haWxBcHBseSIsImNyZWF0ZUVsZW1lbnQiLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsImxlZnQiLCJhcHBlbmRDaGlsZCIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwicmVtb3ZlQ2hpbGQiLCJ2aWV3TW9yZSIsInZpZXdNb3JlQnV0dG9uIiwiY29udGFpbnMiLCJpbm5lckhUTUwiLCJjcmVhdGVUb29sdGlwIiwidGV4dCIsImVsZW0iLCJhZGRDbGFzcyIsImNhbGN1bGF0ZVBvc2l0aW9uIiwidG9vbHRpcCIsInBvc2l0aW9uTGVmdCIsIm91dGVyV2lkdGgiLCJwb3NpdGlvblRvcCIsInRvb2x0aXBTaG93IiwidGhpcyIsImF0dHIiLCJhcHBlbmQiLCJ0b29sdGlwSGlkZSIsInJlbW92ZSIsImhhbmRsZUNsb3NlQnRuIiwiJGNsb3NlIiwidGFyZ2V0IiwibGVuZ3RoIiwiZGF0YSIsImhpZGUiLCJzcGxpdCIsImZvckVhY2giLCJjIiwiZ29Ub1ByZXZpb3VzUGFnZSIsImhpc3RvcnkiLCJiYWNrIiwiYmluZEV2ZW50SGFuZGxlcnNJbiIsInBhcmVudEVsZW1lbnQiLCJub2RlTmFtZSIsImJsdXIiLCJ0b2dnbGVGYXYiLCJqdW1wIiwibmV3X3Bvc2l0aW9uIiwic3RvcCIsIm9uIiwic291cmNlIiwic2VhcmNoIiwicmVwbGFjZSIsImNsb3Nlc3QiLCJjaGlsZHJlbiIsInNsaWRlVG9nZ2xlIiwiZHV1bml2YWFsaXRQb3B1cENvb2tpZSIsIiR0b3BfcG9wdXBfY2xvc2UiLCIkd2lkZV9wb3B1cCIsInNldENvb2tpZSIsImNvb2tpZUVuYWJsZWQiLCJuYXZpZ2F0b3IiLCJnZXRDb29raWUiLCJwb3B1cCIsImhlaWdodCIsImh0bWwiLCJzYWxhcnlDYWNoZSIsImVhY2giLCIkaW5wdXQiLCIkc2NyaXB0IiwicmVhZHkiLCJ1cmwiLCJhdXRvY29tcGxldGUiLCJtaW5MZW5ndGgiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJ0ZXJtIiwiZ2V0SlNPTiIsImhha3UiLCJyZXN1bHRzIiwiX3JlbmRlckl0ZW0iLCJ1bCIsIml0ZW0iLCJpY29uU291cmNlIiwiSk9CX0lDT05fU1JDIiwibGFiZWwiLCJhcHBlbmRUbyIsIiRlbGVtIiwiZGVzdGluYXRpb25VcmwiLCJ2YWwiLCJlbXB0eVZhbHVlcyIsImZpbHRlciIsImhvdmVyIiwiZmluZEFuY2VzdG9yIiwiY2xhc3NTZWxlY3RvciIsInByZXZpb3VzX2J1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImRpc3BsYXkiLCJmbiIsImlzT3ZlclZpZXdwb3J0IiwiaGlkZUZpeGVkQmFyIiwidG9TdGlja3lCYXIiLCJhcHBseUpvYkJhckhlaWdodCIsInNob3dEZXNjcmlwdGlvbkJveCIsImFwcGx5Sm9iQmFyIiwiYnJlYWtwb2ludCIsInNob3ciLCJzZXRUaW1lb3V0IiwiZGVzY3JpcHRpb25Cb3giLCJkZXNjcmlwdGlvbkhpZGVCcmVha3BvaW50IiwibGFzdCIsImFmdGVyIiwibXlTdHIiLCJ0cmltIiwibmV3U3RyIiwic3Vic3RyaW5nIiwicmVtb3ZlZFN0ciIsImVtcHR5Iiwic2libGluZ3MiLCJjb250ZW50cyIsInVud3JhcCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsWUFDSEMsZ0JBQ0ZBLGVBQWVDLFFBQVEsc0JBQXNCLEdBSWpELFNBQVNDLFdBQ1AsR0FBSUYsZ0JBQ0VBLGVBQWVHLFFBQVEsc0JBRXpCLE9BREFILGVBQWVJLFdBQVcsdUJBQ25CLEVBS2IsU0FBU0MsdUJBQ1AsSUFBSUMsRUFBV0Msa0JBQ2YsR0FBSUQsR0FBWUosV0FBWSxDQUN4QixJQUFJTSxF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LFNBQVMsY0FBY0MsV0FBV0MsU0FDMUN0TSxFQUFFLGNBQWN5RyxXQUtsQmEsb0JBQW9CdEgsRUFBRSxTQUd0QkoiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNldFJldHVybigpIHtcbiAgaWYgKHNlc3Npb25TdG9yYWdlKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnam9iZW50cnk6cmV0dXJuaW5nJywgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNSZXR1cm4oKSB7XG4gIGlmIChzZXNzaW9uU3RvcmFnZSkge1xuICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdqb2JlbnRyeTpyZXR1cm5pbmcnKSkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnam9iZW50cnk6cmV0dXJuaW5nJyk7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzY3JvbGxUb0pvYkVudHJ5UGljaygpIHtcbiAgdmFyIGpvYmVudHJ5ID0gZ2V0Sm9iRW50cnlQaWNrKCk7XG4gIGlmIChqb2JlbnRyeSAmJiBpc1JldHVybigpKSB7XG4gICAgICB2YXIgZWwgPSAkKCcuam9iLWJveCcpLmZpbmQoXCJbZGF0YS1qb2Itc2x1Zz0nXCIgKyBqb2JlbnRyeSArIFwiJ11cIik7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgdmFyIGV4dHJhID0gMDtcbiAgICAgICAgdmFyIGlzTW9iaWxlID0gJCgnLm5hdl9fbWVudS0tZGVza3RvcCcpWzBdLm9mZnNldFBhcmVudCA9PT0gbnVsbDtcbiAgICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgICAgZXh0cmEgKz0gJCgnbmF2Lm5hdicpLm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgZXh0cmEgKz0gJCgnLmpzLXN0aWNreS1maWx0ZXJzJykub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiBlbC5vZmZzZXQoKS50b3AgLSBleHRyYVxuICAgICAgICB9LCA1MDApO1xuICAgICAgfVxuICAgICAgZGVsZXRlSm9iRW50cnlQaWNrKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVsZXRlSm9iRW50cnlQaWNrKCkge1xuICBpZiAoc2Vzc2lvblN0b3JhZ2UpIHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2pvYmVudHJ5OmxhdGVzdCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEpvYkVudHJ5UGljaygpIHtcbiAgaWYgKHNlc3Npb25TdG9yYWdlKSB7XG4gICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnam9iZW50cnk6bGF0ZXN0Jyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2F2ZUpvYkVudHJ5UGljayhzbHVnKSB7XG4gIGlmIChzbHVnICYmIHNlc3Npb25TdG9yYWdlKSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdqb2JlbnRyeTpsYXRlc3QnLCBzbHVnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblByb21vQ2xpY2socHJvbW9PYmopIHtcbiAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XG4gICAgZXZlbnQ6ICdwcm9tb3Rpb25DbGljaycsXG4gICAgZWNvbW1lcmNlOiB7XG4gICAgICBwcm9tb0NsaWNrOiB7XG4gICAgICAgIHByb21vdGlvbnM6IFtcbiAgICAgICAgIHtcbiAgICAgICAgICAgaWQ6IHByb21vT2JqLmlkLFxuICAgICAgICAgICBuYW1lOiBwcm9tb09iai5uYW1lLFxuICAgICAgICAgICBwb3NpdGlvbjogcHJvbW9PYmoucG9zXG4gICAgICAgICB9XVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uU2VhcmNoSm9iRW50cnlDbGljayhqb2JPYmopIHtcbiAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XG4gICAgJ2V2ZW50JzogJ2pvYkFkQ2xpY2tlZCcsXG4gICAgJ2pvYlJlc3VsdEluZGV4Jzogam9iT2JqLnBvc1xuICB9KTtcblxuICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xuICAgIGV2ZW50OiAnY2xpY2tKb2JBZCcsXG4gICAgZWNvbW1lcmNlOiB7XG4gICAgICBjbGljazoge1xuICAgICAgICBhY3Rpb25GaWVsZDoge1xuICAgICAgICAgIGxpc3Q6IGpvYk9iai5saXN0XG4gICAgICAgIH0sXG4gICAgICAgIHByb2R1Y3RzOiBbe1xuICAgICAgICAgIGlkOiBqb2JPYmouaWQsXG4gICAgICAgICAgbmFtZTogam9iT2JqLm5hbWUsXG4gICAgICAgICAgY2F0ZWdvcnk6IGpvYk9iai5jYXRlZ29yeSxcbiAgICAgICAgICBicmFuZDogam9iT2JqLmJyYW5kLFxuICAgICAgICAgIHZhcmlhbnQ6IGpvYk9iai52YXJpYW50LFxuICAgICAgICAgIHBvc2l0aW9uOiBqb2JPYmoucG9zXG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlRml4ZWRCb2R5KCkge1xuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gQlJFQUtQT0lOVF9ERVNLVE9QKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvblxuICAgIGlmIChwb3NpdGlvbiA9PSAnZml4ZWQnKSB7XG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICAncG9zaXRpb24nOiAnJyxcbiAgICAgICAgJ292ZXJmbG93JzogJydcbiAgICAgIH1cbiAgICAgICQoJ2JvZHknKS5jc3Moc3R5bGVzKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJ1xuICAgICAgfVxuICAgICAgJCgnYm9keScpLmNzcyhzdHlsZXMpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG92ZXJsYXkoKSB7XG4gICQoJy5tb2RhbC1vdmVybGF5LS1uYXYnKS50b2dnbGVDbGFzcygnbW9kYWwtb3ZlcmxheS0tdmlzaWJsZScpO1xufVxuXG5mdW5jdGlvbiBuYXZUb2dnbGUoKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW5hdi10b2dnbGVfX2NvbnRlbnQnKTtcbiAgLy9lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ25hdl9fbWVudS0taGlkZGVuLW9uLW1vYmlsZScpO1xuICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ25hdl9fbWVudS0tdmlzaWJsZScpO1xuICB0b2dnbGVGaXhlZEJvZHkoKVxuICBvdmVybGF5KClcbn1cbnZhciB3ID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XG5mdW5jdGlvbiBzdWJOYXZUb2dnbGUoZSwgZWwsIGx2bCkge1xuICB2YXIgdyA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuICBpZiAodyA+IFwiMTAyNFwiKSByZXR1cm4gdHJ1ZTtcblxuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGVsLnBhcmVudHMoJy5uYXZfX2l0ZW0tLScgKyBsdmwpLnRvZ2dsZUNsYXNzKCduYXZfX2l0ZW0tLW9wZW4nKTtcbiAgZWwucGFyZW50cygnLm5hdl9faXRlbS0tJyArIGx2bCkuZmluZCgnLm5hdl9faXRlbS0tb3BlbicpLnJlbW92ZUNsYXNzKCduYXZfX2l0ZW0tLW9wZW4nKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4kKCcuanMtc3VibmF2LXRvZ2dsZS0tcHJpbWFyeScpLmNsaWNrKGZ1bmN0aW9uKGUpIHsgc3ViTmF2VG9nZ2xlKGUsICQodGhpcyksICdwcmltYXJ5JykgfSk7XG4kKCcuanMtc3VibmF2LXRvZ2dsZS0tc2Vjb25kYXJ5JykuY2xpY2soZnVuY3Rpb24oZSkgeyBzdWJOYXZUb2dnbGUoZSwgJCh0aGlzKSwgJ3NlY29uZGFyeScpIH0pO1xuXG5mdW5jdGlvbiBuYXZUb2dnbGVTZWFyY2goc2l0ZVNlYXJjaCkge1xuICB2YXIgZWxlbWVudCA9ICQoJy5qcy1uYXYtdG9nZ2xlX19zZWFyY2gnKTtcbiAgZWxlbWVudC50b2dnbGVDbGFzcygnbmF2X19tZW51LS12aXNpYmxlJyk7XG5cbiAgdmFyIHNlYXJjaElucHV0TW9iaWxlID0gJCgnI3NlYXJjaC1hdXRvY29tcGxldGUtbW9iaWxlJylcbiAgICAuZmluZCgnLnRhZ2dsZV9pbnB1dC51aS1hdXRvY29tcGxldGUtaW5wdXQnKTtcblxuICBpZiAoZWxlbWVudC5oYXNDbGFzcygnbmF2X19tZW51LS12aXNpYmxlJykpIHtcbiAgICB2YXIgbGlXaWR0aCA9IHNlYXJjaElucHV0TW9iaWxlLnBhcmVudCgpLndpZHRoKCk7XG4gICAgc2VhcmNoSW5wdXRNb2JpbGUuY3NzKHtcbiAgICAgICdtaW4td2lkdGgnOiBsaVdpZHRoXG4gICAgfSlcbiAgICBzZWFyY2hJbnB1dE1vYmlsZS5mb2N1cygpO1xuICB9IGVsc2Uge1xuICAgIHNlYXJjaElucHV0TW9iaWxlLmZvY3Vzb3V0KCk7XG4gIH1cbiAgdG9nZ2xlRml4ZWRCb2R5KClcbiAgb3ZlcmxheSgpXG59XG5cbmZ1bmN0aW9uIG5hdlRvZ2dsZVNlYXJjaFN1bW1lcigpIHtcbiAgdmFyIGVsZW1lbnQgPSAkKCcuanMtbmF2LXRvZ2dsZV9fc2VhcmNoLS1zdW1tZXInKTtcbiAgZWxlbWVudC50b2dnbGVDbGFzcygnbmF2X19tZW51LS12aXNpYmxlJyk7XG5cbiAgdmFyIHNlYXJjaElucHV0TW9iaWxlID0gJCgnI3NlYXJjaC1hdXRvY29tcGxldGUtbW9iaWxlJylcbiAgICAuZmluZCgnLnRhZ2dsZV9pbnB1dC51aS1hdXRvY29tcGxldGUtaW5wdXQnKTtcblxuICBpZiAoZWxlbWVudC5oYXNDbGFzcygnbmF2X19tZW51LS12aXNpYmxlJykpIHtcbiAgICB2YXIgbGlXaWR0aCA9IHNlYXJjaElucHV0TW9iaWxlLnBhcmVudCgpLndpZHRoKCk7XG4gICAgc2VhcmNoSW5wdXRNb2JpbGUuY3NzKHtcbiAgICAgICdtaW4td2lkdGgnOiBsaVdpZHRoXG4gICAgfSlcbiAgICBzZWFyY2hJbnB1dE1vYmlsZS5mb2N1cygpO1xuICB9IGVsc2Uge1xuICAgIHNlYXJjaElucHV0TW9iaWxlLmZvY3Vzb3V0KCk7XG4gIH1cbiAgdG9nZ2xlRml4ZWRCb2R5KClcbiAgb3ZlcmxheSgpXG59XG5cbmZ1bmN0aW9uIG5hdlRvZ2dsZUZpbHRlcigpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbmF2LXRvZ2dsZV9fZmlsdGVyJyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2X19tZW51LS1oaWRkZW4nKTtcbiAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCduYXZfX21lbnUtLXZpc2libGUnKTtcbiAgb3ZlcmxheSgpXG59XG5cbmZ1bmN0aW9uIG5hdlRvZ2dsZUZhdm91cml0ZSgpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbW9kYWxfX2Zhdm91cml0ZScpO1xuICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ21vZGFsLS1oaWRkZW4nKTtcblxuICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1vZGFsX19mYXZvdXJpdGUtLW92ZXJsYXknKTtcbiAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdtb2RhbC1vdmVybGF5LS12aXNpYmxlJyk7XG59XG5cbmZ1bmN0aW9uIG5hdlRvZ2dsZUpvYndhdGNoKCkge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tb2RhbF9fam9id2F0Y2gnKTtcbiAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdtb2RhbC0taGlkZGVuJyk7XG5cbiAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tb2RhbF9fam9id2F0Y2gtLW92ZXJsYXknKTtcbiAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdtb2RhbC1vdmVybGF5LS12aXNpYmxlJyk7XG4gIHRvZ2dsZUZpeGVkQm9keSgpXG59XG5cbmZ1bmN0aW9uIGNvcHlUb0NsaXBib2FyZCgpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLW91dGxpbmUtY29waWFibGUnKTtcbiAgc3RyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbiAgY29weVN0cmluZ1RvQ2xpcEJvYXJkKHN0cik7XG59XG5cblxuZnVuY3Rpb24gbmF2VG9nZ2xlRW1haWxBcHBseSgpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbW9kYWxfX2VtYWlsX2FwcGx5Jyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnbW9kYWwtLWhpZGRlbicpO1xuXG4gIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbW9kYWxfX2VtYWlsX2FwcGx5LS1vdmVybGF5Jyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnbW9kYWwtb3ZlcmxheS0tdmlzaWJsZScpO1xuICB0b2dnbGVGaXhlZEJvZHkoKVxufVxuXG5mdW5jdGlvbiBjb3B5U3RyaW5nVG9DbGlwQm9hcmQgKHN0cikge1xuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICBlbC52YWx1ZSA9IHN0cjtcbiAgZWwuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgZWwuc3R5bGUgPSB7cG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICctOTk5OXB4J307XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICBlbC5zZWxlY3QoKTtcbiAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG59XG5cbmZ1bmN0aW9uIHZpZXdNb3JlKCkge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1kZXNjcmlwdGlvbi1ib3gnKTtcbiAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc0xpc3Qpe1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZGVzY3JpcHRpb24tYm94LS12aWV3Jyk7XG5cbiAgICB2YXIgdmlld01vcmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdmlldy1tb3JlJyk7XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rlc2NyaXB0aW9uLWJveC0tdmlldycpKSB7XG4gICAgICB2aWV3TW9yZUJ1dHRvbi5pbm5lckhUTUwgPSAnUElJTE9UQSA8c3ZnIHdpZHRoPVwiMTNcIiBoZWlnaHQ9XCI5XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGlkPVwiUGFnZS0xXCIgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWNhcD1cInNxdWFyZVwiPjxnIGlkPVwiR3JvdXAtNDJcIiB0cmFuc2Zvcm09XCJyb3RhdGUoLTE4MCA1LjUgMy41KVwiIHN0cm9rZT1cIiMwMDFFNDNcIiBzdHJva2Utd2lkdGg9XCIyXCI+PGcgaWQ9XCJhcnJvdy1kb3duLWNvcHlcIj48cGF0aCBkPVwiTS4yMjIuMjM5TDQuODQ4IDUuMjJcIiBpZD1cIkxpbmUtQ29weS0yXCIvPjxwYXRoIGQ9XCJNNC45NDYgNS4wNzZMOS41NzIuMDkzXCIgaWQ9XCJMaW5lLUNvcHktM1wiLz48L2c+PC9nPjwvZz48L3N2Zz4nO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aWV3TW9yZUJ1dHRvbi5pbm5lckhUTUwgPSAnTsOEWVTDhCBMSVPDhMOEIFRJRVRPSkEgPHN2ZyB3aWR0aD1cIjEzXCIgaGVpZ2h0PVwiOVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBpZD1cIlBhZ2UtMVwiIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgc3Ryb2tlLWxpbmVjYXA9XCJzcXVhcmVcIj48ZyBpZD1cIkdyb3VwLTQyXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDIgMilcIiBzdHJva2U9XCIjMDAxRTQzXCIgc3Ryb2tlLXdpZHRoPVwiMlwiPjxnIGlkPVwiYXJyb3ctZG93bi1jb3B5XCI+PHBhdGggZD1cIk0uMjIyLjIzOUw0Ljg0OCA1LjIyXCIgaWQ9XCJMaW5lLUNvcHktMlwiLz48cGF0aCBkPVwiTTQuOTQ2IDUuMDc2TDkuNTcyLjA5M1wiIGlkPVwiTGluZS1Db3B5LTNcIi8+PC9nPjwvZz48L2c+PC9zdmc+JztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCh0ZXh0KSB7XG4gIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZWxlbS5pbm5lckhUTUwgPSB0ZXh0XG4gICQoZWxlbSkuYWRkQ2xhc3MoJ3Rvb2x0aXAnKVxuICByZXR1cm4gZWxlbVxufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihlbGVtLCB0b29sdGlwKSB7XG4gIHZhciBwb3NpdGlvbkxlZnQgPSAoJChlbGVtKS5vdXRlcldpZHRoKCkgLSAkKHRvb2x0aXApLm91dGVyV2lkdGgoKSkgLyAyXG4gIHBvc2l0aW9uTGVmdCA9ICQoZWxlbSkucG9zaXRpb24oKS5sZWZ0ICsgcG9zaXRpb25MZWZ0XG4gIHZhciBwb3NpdGlvblRvcCA9ICQoZWxlbSkucG9zaXRpb24oKS50b3AgLSAkKHRvb2x0aXApLm91dGVySGVpZ2h0KCkgLSAxMFxuICAkKHRvb2x0aXApLmNzcygnbGVmdCcsIHBvc2l0aW9uTGVmdClcbiAgJCh0b29sdGlwKS5jc3MoJ3RvcCcsIHBvc2l0aW9uVG9wKVxufVxuXG5mdW5jdGlvbiB0b29sdGlwU2hvdygpIHtcbiAgdmFyIHRleHQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdG9vbHRpcCcpXG4gIHZhciB0b29sdGlwID0gY3JlYXRlVG9vbHRpcCh0ZXh0KVxuICAkKCdib2R5JykuYXBwZW5kKCQodG9vbHRpcCkpXG4gIGNhbGN1bGF0ZVBvc2l0aW9uKHRoaXMsIHRvb2x0aXApXG59XG5cbmZ1bmN0aW9uIHRvb2x0aXBIaWRlKCkge1xuICB2YXIgdG9vbHRpcCA9ICQoJy50b29sdGlwJylcbiAgdG9vbHRpcC5yZW1vdmUoKVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDbG9zZUJ0bihlKSB7XG4gIHZhciAkY2xvc2UgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuanMtY2xvc2UtZWxlbWVudCcpO1xuICBpZiAoISRjbG9zZS5sZW5ndGgpIHJldHVybjtcblxuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgaWYgKCRjbG9zZS5kYXRhKCdjbG9zZS1jbGFzcycpKSB7XG4gICAgJGNsb3NlLmFkZENsYXNzKCRjbG9zZS5kYXRhKCdjbG9zZS1jbGFzcycpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAkY2xvc2UuaGlkZSgpO1xuXG4gIGlmICgkY2xvc2UuZGF0YSgnY2xvc2Utb3RoZXJzJykpIHtcbiAgICAkY2xvc2UuZGF0YSgnY2xvc2Utb3RoZXJzJykuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICQoJy4nICsgYykuaGlkZSgpO1xuICAgIH0pO1xuICB9XG59XG5cblxuKGZ1bmN0aW9uIHNob3dHb1RvUHJldmlvdXNQYWdlKCkge1xuICBpZiAoIXdpbmRvdy5oaXN0b3J5IHx8ICF3aW5kb3cuaGlzdG9yeS5iYWNrKSByZXR1cm47XG4gIHZhciBwcmV2aW91c19idXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWdvLXRvLXByZXZpb3VzLXBhZ2UnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2aW91c19idXR0b25zLmxlbmd0aDsgaSsrKXtcbiAgICB2YXIgYnV0dG9uID0gcHJldmlvdXNfYnV0dG9uc1tpXTtcbiAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbn0oKSk7XG5cbmZ1bmN0aW9uIGdvVG9QcmV2aW91c1BhZ2UoKSB7XG4gIGlmICghd2luZG93Lmhpc3RvcnkgfHwgIXdpbmRvdy5oaXN0b3J5LmJhY2spIHJldHVybjtcbiAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xufVxuXG5cbmZ1bmN0aW9uIGJpbmRFdmVudEhhbmRsZXJzSW4ocGFyZW50RWxlbWVudCkge1xuICAvKiBUb2dnbGUgZHJvcGRvd24gZWxlbWVudCBmb2N1cyBzdGF0ZSBpbiBvcmRlciB0byBzaG93ICYgaGlkZSB0aGUgY29udGVudHMgICovXG4gIHBhcmVudEVsZW1lbnQuZmluZCgnLmRyb3Bkb3duX19pdGVtJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIC8vIElmIGVsZW1lbnQgaXMgcGFyZW50IChUT0RPOiBtYWtlIGxlc3MgZGVwZW5kZW50IG9uIGhvdyBET00gaXMgYnVpbHQpXG4gICAgZS50YXJnZXQubm9kZU5hbWUgPT09ICdBJyA/ICQodGhpcykuZm9jdXMoKSA6ICQodGhpcykuYmx1cigpO1xuICB9KTtcblxuICBwYXJlbnRFbGVtZW50LmZpbmQoJy5qcy1zYXZlLWZhdm9yaXRlJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgIHZhciBzbHVnID0gJCh0aGlzKS5kYXRhKCdqb2Itc2x1ZycpO1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnam9iLWlkJykgfHwgJCh0aGlzKS5hdHRyKCdpZCcpO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRvZ2dsZUZhdihzbHVnLCBpZCwgJCh0aGlzKSk7XG4gIH0pO1xuXG4gIC8qIFwiU2Nyb2xsIHRvXCIgYW5pbWF0ZWQgZnVuY3Rpb25hbGl0eSB0byBlbGVtZW50c1xuICAgKiAgQW55IGVsZW1lbnQgd2l0aCBjbGFzcyBcImpzLXNjcm9sbC10b1wiIHNjcm9sbHMgdG9cbiAgICogIGVsZW1lbnQgZGVmaW5lZCBpbiBcImhyZWZcIlxuICAgKi9cbiAgcGFyZW50RWxlbWVudC5maW5kKCcuanMtc2Nyb2xsLXRvJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIganVtcCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgIHZhciBuZXdfcG9zaXRpb24gPSAkKGp1bXApLm9mZnNldCgpO1xuICAgICQoJ2h0bWwsIGJvZHknKS5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IG5ld19wb3NpdGlvbi50b3AgLSAzMFxuICAgIH0sIDUwMCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcblxuICAvKiBTY3JvbGwgYmFjayB0byB0b3AgZnVuY3Rpb24gKi9cbiAgcGFyZW50RWxlbWVudC5maW5kKCcuZm9vdGVyX19iYWNrdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogMFxuICAgIH0sICdzbG93Jyk7XG5cbiAgfSk7XG5cbiAgLyogVG9nZ2xlIHNob3cvaGlkZSBjb250ZW50ICovXG4gIHBhcmVudEVsZW1lbnQuZmluZCgnLmljb25fX3Nob3dtb3JlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgdG9nZ2xlX2J0biA9ICQodGhpcyk7XG4gICAgdmFyIHNvdXJjZSA9IHRvZ2dsZV9idG4uYXR0cignc3JjJyk7XG4gICAgaWYgKHNvdXJjZS5zZWFyY2goJ2Rvd24nKSA+IC0xKSB7XG4gICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsIHNvdXJjZS5yZXBsYWNlKCdkb3duJywgJ3VwJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsIHNvdXJjZS5yZXBsYWNlKCd1cCcsICdkb3duJykpO1xuICAgIH1cbiAgICAkKHRoaXMpLmNsb3Nlc3QoJy5mb290ZXJfX3NlY3Rpb25tZW51JykuY2hpbGRyZW4oJy5mb290ZXItLWxpc3QnKS5zbGlkZVRvZ2dsZSgnc2xvdycpO1xuICB9KTtcblxuXG4gIC8qIFRvZ2dsZSBzaG93L2hpZGUgR0RQUiBjb250ZW50ICovXG4gIHBhcmVudEVsZW1lbnQuZmluZCgnLmpzLXNob3ctb3RoZXJfX2J1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnLmpzLWdkcHItb3RoZXJfX2NvbnRlbnQnKS50b2dnbGVDbGFzcygnZ2Rwci1vdGhlcl9fY29udGVudC0taGlkZGVuJyk7XG4gIH0pO1xuXG5cblxuICAvKiBEdXVuaXZhYWxpdCBQb3B1cCBDb29raWUgKi9cbiAgdmFyIERVVU5JVkFBTElUX1BPUFVQX0NPT0tJRV9OQU1FID0gJ2R0LWR1dW5pdmFhbGl0LXBvcHVwLTE5JztcbiAgdmFyIGR1dW5pdmFhbGl0UG9wdXBDb29raWUgPSBEVVVOSVZBQUxJVF9QT1BVUF9DT09LSUVfTkFNRTtcblxuICB2YXIgJHRvcF9wb3B1cF9jbG9zZSA9ICQoJy5qcy13aWRlLXRvcC1wb3B1cC1jbG9zZScpO1xuICB2YXIgJHdpZGVfcG9wdXAgPSAkKCcud2lkZS10b3AtcG9wdXAnKTtcblxuICAkdG9wX3BvcHVwX2Nsb3NlLm9uKCdjbGljayB0b3VjaHN0YXJ0Jywgb25DbG9zZUNsaWNrKTtcblxuICB2YXIgY29va2llRW5hYmxlZCA9IG5hdmlnYXRvci5jb29raWVFbmFibGVkO1xuXG4gIGlmICghZ2V0Q29va2llKGR1dW5pdmFhbGl0UG9wdXBDb29raWUpICYmIGNvb2tpZUVuYWJsZWQpIHtcbiAgICBzaG93RHV1bml2YWFsaXRQb3B1cCgpXG4gIH0gZWxzZSB7XG4gICAgaGlkZUR1dW5pdmFhbGl0UG9wdXAoKVxuICB9XG5cbiAgZnVuY3Rpb24gb25DbG9zZUNsaWNrKCkge1xuICAgIHNldENvb2tpZShkdXVuaXZhYWxpdFBvcHVwQ29va2llLCB0cnVlLCAxKTsgLy8gY29va2llIGFnZSAxIGRheVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0R1dW5pdmFhbGl0UG9wdXAoKSB7XG4gICAgJHdpZGVfcG9wdXAucmVtb3ZlQ2xhc3MoJ3dpZGUtdG9wLXBvcHVwLS1oaWRlJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVEdXVuaXZhYWxpdFBvcHVwKCkge1xuICAgICR3aWRlX3BvcHVwLmFkZENsYXNzKCd3aWRlLXRvcC1wb3B1cC0taGlkZScpXG4gIH1cbiAgLyogRW5kIER1dW5pdmFhbGl0ICovXG5cbiAgLyogSGlkZSB3aXRoIGFuaW1hdGlvbiAqL1xuICAkKCcuanMtYW5pbWF0ZS1jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBwb3B1cCA9ICQodGhpcykuY2xvc2VzdCgnLmFuaW1hdGUtY2xvc2UtY29udGFpbmVyJylcbiAgICBwb3B1cC5hbmltYXRlKHtcbiAgICAgIGhlaWdodDogJzAnXG4gICAgfSwgNTAwLCBmdW5jdGlvbigpIHtcbiAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvKiBTaG93IHdpdGggYW5pbWF0aW9uICovXG4gICQoJy5qcy1hbmltYXRlLW9wZW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudCA9ICQoJy5hbmltYXRlLW9wZW4tY29udGFpbmVyJylcbiAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKCdhbmltYXRlLW9wZW4tY29udGFpbmVyLS12aWV3JylcbiAgICBpZiAoZWxlbWVudC5oYXNDbGFzcygnYW5pbWF0ZS1vcGVuLWNvbnRhaW5lci0tdmlldycpKSB7XG4gICAgICAkKHRoaXMpLmh0bWwoJ1BpaWxvdGEgbGlzw6R0aWVkb3QnKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMpLmh0bWwoJ07DpHl0w6QgbGlzw6R0aWV0b2phIGVoZG9ra2Fhc3RhJylcbiAgICB9XG4gIH0pO1xuXG5cbiAgLyogSW5pdCBzYWxhcnkgc2VhcmNoIGF1dG9jb21wbGV0ZSBmaWVsZHMgKi9cbiAgdmFyIHNhbGFyeUNhY2hlID0ge307XG4gIHBhcmVudEVsZW1lbnQuZmluZCgnLmpzLXNhbGFyeS1zZWFyY2ggW2RhdGEtYXV0b2NvbXBsZXRlXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XG5cbiAgICAkc2NyaXB0LnJlYWR5KFtcInVpXCJdLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1cmwgPSAkaW5wdXQuYXR0cignZGF0YS1hdXRvY29tcGxldGUnKTtcbiAgICAgIGlmICh1cmwpe1xuICAgICAgICAkaW5wdXQuYXV0b2NvbXBsZXRlKHtcbiAgICAgICAgICBtaW5MZW5ndGg6IDIsXG4gICAgICAgICAgc291cmNlOiBmdW5jdGlvbihyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHRlcm0gPSByZXF1ZXN0LnRlcm07XG4gICAgICAgICAgICBpZiAoIHRlcm0gaW4gc2FsYXJ5Q2FjaGUgKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlKHNhbGFyeUNhY2hlW3Rlcm1dKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJC5nZXRKU09OKHVybCwge2hha3U6IHRlcm19LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgIHNhbGFyeUNhY2hlW3Rlcm1dID0gZGF0YS5yZXN1bHRzXG4gICAgICAgICAgICAgIHJlc3BvbnNlKHNhbGFyeUNhY2hlW3Rlcm1dKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICAgIC5hdXRvY29tcGxldGUoJ2luc3RhbmNlJykuX3JlbmRlckl0ZW0gPSBmdW5jdGlvbih1bCwgaXRlbSkge1xuICAgICAgICAgIHZhciBjb3VudFN0ciA9ICcnO1xuICAgICAgICAgIHZhciBpY29uU291cmNlID0gSk9CX0lDT05fU1JDXG4gICAgICAgICAgcmV0dXJuICQoXCI8bGk+XCIpXG4gICAgICAgICAgLmFwcGVuZChcIjxkaXYgY2xhc3M9J2R0LWF1dG9jb21wbGV0ZSc+PGltZyBjbGFzcz0nZHQtYXV0b2NvbXBsZXRlX19pY29uJyBzcmM9XCIgKyBpY29uU291cmNlICsgXCI+PGRpdiBjbGFzcz0nZHQtYXV0b2NvbXBsZXRlX19oZWFkaW5nJz5cIiArIGl0ZW0ubGFiZWwgKyBcIjwvZGl2PjxkaXYgY2xhc3M9J2R0LWF1dG9jb21wbGV0ZV9fY291bnQnPjwvZGl2PjwvZGl2PlwiKVxuICAgICAgICAgIC5hcHBlbmRUbyh1bCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLyogUmVjb21tZW5kZWQgam9iZW50cmllcyBjbGlja3MsIHNlbmQgY3VzdG9tIGVjb21tZXJjZSBkYXRhTGF5ZXIgZGF0YSAqL1xuICBwYXJlbnRFbGVtZW50LmZpbmQoJy5ndG0tcmVjb21tZW5kYXRpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyICRlbGVtID0gJCh0aGlzKTtcblxuICAgIHZhciBwcm9tb09iaiA9IHtcbiAgICAgIGlkOiAkZWxlbS5kYXRhKCdpZCcpLFxuICAgICAgbmFtZTogJGVsZW0ucGFyZW50KCkuZmluZCgnLmpvYi1ib3hfX3RpdGxlJykudGV4dCgpLFxuICAgICAgcG9zOiAkZWxlbS5kYXRhKCdwb3NpdGlvbicpLFxuICAgICAgZGVzdGluYXRpb25Vcmw6ICRlbGVtLmF0dHIoJ2hyZWYnKVxuICAgIH1cblxuICAgIG9uUHJvbW9DbGljayhwcm9tb09iailcblxuICB9KTtcblxuICAvKiBTZWFyY2ggcmVzdWx0cyBqb2JlbnRyeSBjbGlja3MsIHNlbmQgZGF0YUxheWVyIGRhdGEgKi9cbiAgcGFyZW50RWxlbWVudC5maW5kKCcuZ3RtLXNlYXJjaC1yZXN1bHQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyICRlbGVtID0gJCh0aGlzKTtcblxuICAgIHZhciBqb2JPYmogPSB7XG4gICAgICBwb3M6ICRlbGVtLmRhdGEoJ3Bvc2l0aW9uJyksXG4gICAgICBpZDogJGVsZW0uZGF0YSgnaWQnKSxcbiAgICAgIGxpc3Q6ICdIYWt1dHVsb2tzZXQnLFxuICAgICAgbmFtZTogJGVsZW0ucGFyZW50KCkuZmluZCgnLmpvYi1ib3hfX3RpdGxlJykudGV4dCgpLFxuICAgICAgYnJhbmQ6ICRlbGVtLmRhdGEoJ2NvbXBhbnknKSxcbiAgICAgIGNhdGVnb3J5OiAkZWxlbS5kYXRhKCdjYXRlZ29yeScpLFxuICAgICAgdmFyaWFudDogJGVsZW0uZGF0YSgndmFyaWFudCcpLFxuXG4gICAgfVxuXG4gICAgb25TZWFyY2hKb2JFbnRyeUNsaWNrKGpvYk9iailcblxuICB9KTtcblxuICAkKCcuanMtdGFnLXNjcm9sbC0tZmlsdGVycy1tb2JpbGUgLnRhZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciAkZWxlbSA9ICQodGhpcyk7XG5cbiAgICB2YXIgdmFsdWUgPSAkZWxlbS52YWwoKVxuICAgIHZhciBuYW1lID0gJGVsZW0uYXR0cignbmFtZScpXG5cbiAgICBpZiAoJGVsZW0uaGFzQ2xhc3MoJ3RhZy0tc2VsZWN0ZWQnKSAmJiBuYW1lICE9PSAnb3JkZXJfYnknKSB7XG4gICAgICAkZWxlbS5yZW1vdmVDbGFzcygndGFnLS1zZWxlY3RlZCcpXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5qcy10YWctc2Nyb2xsLS1maWx0ZXJzLW1vYmlsZSAudGFnW25hbWU9JyArIG5hbWUgKyAnXScpLnJlbW92ZUNsYXNzKCd0YWctLXNlbGVjdGVkJylcbiAgICAgICRlbGVtLmFkZENsYXNzKCd0YWctLXNlbGVjdGVkJylcbiAgICB9XG5cbiAgfSk7XG5cbiAgJCgnLmpzLXNlYXJjaC1maWx0ZXJzLW1vYmlsZS0tY2xlYXInKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cbiAgICAkKCcuanMtc2VhcmNoLWZpbHRlcnMtbW9iaWxlLS1zZWxlY3Qgc2VsZWN0JykudmFsKCcnKTtcbiAgICAkKCcuanMtdGFnLXNjcm9sbC0tZmlsdGVycy1tb2JpbGUgLnRhZycpLnJlbW92ZUNsYXNzKCd0YWctLXNlbGVjdGVkJyk7XG4gICAgJCgnLmpzLXRhZy1zY3JvbGwtLWZpbHRlcnMtbW9iaWxlIC50YWdbdmFsdWU9c2VhcmNoX3JhbmtdJykuYWRkQ2xhc3MoJ3RhZy0tc2VsZWN0ZWQnKTtcbiAgICAkKCcuanMtc2VhcmNoLWZpbHRlcnMtbW9iaWxlLS1zZWxlY3QgaW5wdXQnKS52YWwoJycpO1xuXG4gIH0pXG5cblxuICBwYXJlbnRFbGVtZW50LmZpbmQoJy5idG4tbG9hZGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGVtcHR5VmFsdWVzID0gZmFsc2VcbiAgICAkKCdpbnB1dCx0ZXh0YXJlYSxzZWxlY3QnKS5maWx0ZXIoJ1tyZXF1aXJlZF06dmlzaWJsZScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIGlmKCAkKHRoaXMpLnZhbCgpID09PSAnJyApIHtcbiAgICAgICAgZW1wdHlWYWx1ZXMgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICghZW1wdHlWYWx1ZXMpIHtcbiAgICAgIHZhciAkZWxlbSA9ICQodGhpcyk7XG5cbiAgICAgIHZhciBsb2FkZXIgPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tc3VibWVudV9faXRlbV9fbG9hZGVyIGxvYWRlciBsb2FkZXI2XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIzMHB4XCIgaGVpZ2h0PVwiNnB4XCIgdmlld0JveD1cIjAgMCAzOCAxMFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxjaXJjbGUgZmlsbD1cIiMzQTNBM0FcIiBjeD1cIjRcIiBjeT1cIjVcIiByPVwiNFwiLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8Y2lyY2xlIGZpbGw9XCIjM0EzQTNBXCIgY3g9XCIxOVwiIGN5PVwiNVwiIHI9XCI0XCIvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxjaXJjbGUgZmlsbD1cIiMzQTNBM0FcIiBjeD1cIjM0XCIgY3k9XCI1XCIgcj1cIjRcIi8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvc3ZnPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgdmFyIHdpZHRoID0gJGVsZW0ub3V0ZXJXaWR0aCgpO1xuICAgICAgJCgkZWxlbSkuY3NzKCd3aWR0aCcsIHdpZHRoKTtcblxuICAgICAgJGVsZW0uaHRtbChsb2FkZXIpO1xuICAgIH1cblxuICB9KTtcblxuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPj0gQlJFQUtQT0lOVF9ERVNLVE9QKSB7XG4gICAgcGFyZW50RWxlbWVudC5maW5kKCcuanMtdG9vbHRpcCcpLmhvdmVyKCB0b29sdGlwU2hvdywgdG9vbHRpcEhpZGUgKVxuICB9XG5cbiAgcGFyZW50RWxlbWVudC5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICYmIGUudGFyZ2V0LmNsYXNzTGlzdCl7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1jbG9zZS1idG4nKSkge1xuICAgICAgICBoYW5kbGVDbG9zZUJ0bihlKTtcbiAgICAgIH1cbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWdvLXRvLXByZXZpb3VzLXBhZ2UnKSB8fCBmaW5kQW5jZXN0b3IoZS50YXJnZXQsICdqcy1nby10by1wcmV2aW91cy1wYWdlJykpIHtcbiAgICAgICAgZ29Ub1ByZXZpb3VzUGFnZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIEZpbmQgUGFyZW50IEVsZW1lbnQgd2l0aCBjc3MgY2xhc3NcbmZ1bmN0aW9uIGZpbmRBbmNlc3RvcihlbCwgY2xhc3NTZWxlY3Rvcikge1xuICB3aGlsZSAoKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiYgZWwgJiYgZWwuY2xhc3NMaXN0ICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NTZWxlY3RvcikpO1xuICByZXR1cm4gZWw7XG59XG5cbnZhciBCUkVBS1BPSU5UX0RFU0tUT1AgPSAxMDI1O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgJC5mbi5pc092ZXJWaWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50VG9wID0gJCh0aGlzKS5vZmZzZXQoKS50b3A7XG4gICAgdmFyIGVsZW1lbnRCb3R0b20gPSBlbGVtZW50VG9wICsgJCh0aGlzKS5oZWlnaHQoKTtcblxuICAgIHZhciB2aWV3cG9ydFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgIHJldHVybiBlbGVtZW50Qm90dG9tIDwgdmlld3BvcnRUb3A7XG4gIH07XG5cbiAgJC5mbi5oaWRlRml4ZWRCYXIgPSBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdzdGlja3ktYmFyIHN0aWNreS1iYXItLXNsaWRlIHN0aWNreS1iYXItLXZpc2libGUnKTtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmNzcygncGFkZGluZy1ib3R0b20nLCAwKTtcbiAgICAkKCdmb290ZXInKS5jc3MoJ3BhZGRpbmctYm90dG9tJywgMCk7XG4gICAgJCgnLmpzLXN0aWNreS1iYXJfX2Rlc2stY29udGVudCcpLmhpZGUoKTtcbiAgfTtcblxuICAkLmZuLnRvU3RpY2t5QmFyID0gZnVuY3Rpb24oYXBwbHlKb2JCYXJIZWlnaHQpIHtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdzdGlja3ktYmFyIHN0aWNreS1iYXItLXNsaWRlJyk7XG4gIH07XG5cbiAgJC5mbi5zaG93RGVzY3JpcHRpb25Cb3ggPSBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdkZXNjcmlwdGlvbi1ib3gtLXZpZXcnKTtcbiAgfTtcblxuXG4gIC8qIEpPQiBBRCAtdmlldyAqL1xuXG4gIC8qIEZ1Y3Rpb25hbGl0eSBmb3Igam9iIGFkcyAnYXBwbHkgam9iJyBzdGlja3kgYmFyIGJvdHRvbSAqL1xuICAkKHdpbmRvdykub24oJ3Jlc2l6ZSBzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXBwbHlKb2JCYXIgPSAkKCcuanMtc3RpY2t5LWJhci0tYXBwbHktam9iJyk7XG4gICAgdmFyIGFwcGx5Sm9iQmFySGVpZ2h0ID0gYXBwbHlKb2JCYXIuaGVpZ2h0KCk7XG4gICAgdmFyIGJyZWFrcG9pbnQgPSAkKCcuanMtYnJlYWtwb2ludC10b1N0aWNreUJhcicpO1xuXG4gICAgaWYgKGJyZWFrcG9pbnQubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGJyZWFrcG9pbnQuaXNPdmVyVmlld3BvcnQoKSkge1xuICAgICAgICBhcHBseUpvYkJhci50b1N0aWNreUJhcihhcHBseUpvYkJhckhlaWdodCk7XG4gICAgICAgIC8qIENhbGN1bHRlIHRoaXM/ICovXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSBCUkVBS1BPSU5UX0RFU0tUT1ApIHtcbiAgICAgICAgICBhcHBseUpvYkJhci5wYXJlbnQoKS5jc3MoJ3BhZGRpbmctYm90dG9tJywgJzdyZW0nKTtcbiAgICAgICAgICAkKCdmb290ZXInKS5jc3MoJ3BhZGRpbmctYm90dG9tJywgJzdyZW0nKTtcbiAgICAgICAgICAkKCcuanMtc3RpY2t5LWJhcl9fZGVzay1jb250ZW50Jykuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcGx5Sm9iQmFyLnBhcmVudCgpLmNzcygncGFkZGluZy1ib3R0b20nLCAnNi42cmVtJyk7XG4gICAgICAgICAgJCgnZm9vdGVyJykuY3NzKCdwYWRkaW5nLWJvdHRvbScsICc2LjZyZW0nKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoYnJlYWtwb2ludC5pc092ZXJWaWV3cG9ydCgpKSB7XG4gICAgICAgICAgICBhcHBseUpvYkJhci5hZGRDbGFzcygnc3RpY2t5LWJhci0tdmlzaWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseUpvYkJhci5oaWRlRml4ZWRCYXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBseUpvYkJhci5oaWRlRml4ZWRCYXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qIEhpZGUgZGVzY3JpcHRpb24gJ3Nob3cgbW9yZScgZm9yIHNob3J0IGRlc2NyaXB0aW9ucyAqL1xuICB2YXIgZGVzY3JpcHRpb25Cb3ggPSAkKCcuanMtZGVzY3JpcHRpb24tYm94Jyk7XG4gIHZhciBkZXNjcmlwdGlvbkhpZGVCcmVha3BvaW50RGVzayA9IDMwMDtcbiAgdmFyIGRlc2NyaXB0aW9uSGlkZUJyZWFrcG9pbnRNb2JpbGUgPSAxMTk7XG5cbiAgaWYgKCQod2luZG93KS53aWR0aCgpID49IEJSRUFLUE9JTlRfREVTS1RPUCkge1xuICAgIHZhciBkZXNjcmlwdGlvbkhpZGVCcmVha3BvaW50ID0gZGVzY3JpcHRpb25IaWRlQnJlYWtwb2ludERlc2s7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRlc2NyaXB0aW9uSGlkZUJyZWFrcG9pbnQgPSBkZXNjcmlwdGlvbkhpZGVCcmVha3BvaW50TW9iaWxlO1xuICB9XG4gIGlmIChkZXNjcmlwdGlvbkJveCAmJiAoZGVzY3JpcHRpb25Cb3guaGVpZ2h0KCkgPCBkZXNjcmlwdGlvbkhpZGVCcmVha3BvaW50KSkge1xuICAgIGRlc2NyaXB0aW9uQm94LnNob3dEZXNjcmlwdGlvbkJveCgpO1xuICAgICQoJy5qcy12aWV3LW1vcmUnKS5oaWRlKCk7XG4gIH1cblxuICAvKiBlbmQgSk9CIEFEIC12aWV3ICovXG5cbiAgLyogU2hvdyBtb3JlIGNhdGVnb3JpZXMgb24gZnJvbnQgcGFnZSAqL1xuXG4gICQoJy5saXN0X19pdGVtLS1zaG93Omd0KDkpJykuaGlkZSgpLmxhc3QoKS5hZnRlcihcbiAgICAkKCcuanMtbGlzdF9faXRlbS0tc2hvdy1tb3JlJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHNob3dNb3JlRWxlbSA9IHRoaXM7XG4gICAgICAkKCcubGlzdF9faXRlbS0tc2hvdzpub3QoOnZpc2libGUpJykuY3NzKCdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLmxpc3RfX2l0ZW0tLXNob3cnKS5jc3MoJ29wYWNpdHknLCAxKTtcbiAgICAgIH0sIDEwKTtcbiAgICAgIGlmICgkKCcubGlzdF9faXRlbS0tc2hvdzpub3QoOnZpc2libGUpJykubGVuZ3RoID09IDApICQoc2hvd01vcmVFbGVtKS5yZW1vdmUoKTtcbiAgICB9KVxuICApO1xuICBpZiAoJCgnLmxpc3RfX2l0ZW0tLXNob3c6bm90KDp2aXNpYmxlKScpLmxlbmd0aCA9PSAwKSAkKCcuanMtbGlzdF9faXRlbS0tc2hvdy1tb3JlJykucmVtb3ZlKCk7XG5cblxuICB2YXIgbWF4TGVuZ3RoID0gMTMwO1xuICAkKCcuanMtc2hvdy1yZWFkLW1vcmUnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIHZhciBteVN0ciA9ICQodGhpcykudGV4dCgpO1xuICAgIGlmICgkLnRyaW0obXlTdHIpLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgdmFyIG5ld1N0ciA9IG15U3RyLnN1YnN0cmluZygwLCBtYXhMZW5ndGgpO1xuICAgICAgdmFyIHJlbW92ZWRTdHIgPSBteVN0ci5zdWJzdHJpbmcobWF4TGVuZ3RoLCAkLnRyaW0obXlTdHIpLmxlbmd0aCk7XG4gICAgICAkKHRoaXMpLmVtcHR5KCkuaHRtbChuZXdTdHIpO1xuICAgICAgJCh0aGlzKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwicmVhZC1tb3JlXCI+Li4uIDwvc3Bhbj48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwicmVhZC1tb3JlIHJlYWQtbW9yZS0tbGlua1wiPmx1ZSBsaXPDpMOkPC9hPicpO1xuICAgICAgJCh0aGlzKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwibW9yZS10ZXh0XCI+JyArIHJlbW92ZWRTdHIgKyAnPC9zcGFuPicpO1xuICAgIH1cbiAgfSk7XG4gICQoJy5yZWFkLW1vcmUnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcubW9yZS10ZXh0JykuY29udGVudHMoKS51bndyYXAoKTtcbiAgICAkKCcucmVhZC1tb3JlJykucmVtb3ZlKCk7XG4gIH0pO1xuXG5cbiAgLy8gQmluZCBhbGwgZXZlbnRzIGluIGJvZHlcbiAgYmluZEV2ZW50SGFuZGxlcnNJbigkKCdib2R5JykpXG5cbiAgLy8gc2Nyb2xsIHRvIGpvYmVudHJ5XG4gIHNjcm9sbFRvSm9iRW50cnlQaWNrKCk7XG5cblxuICAvKiBJZiBvdmVybG93ZiBvbiBtb2JpbGUsIG5pY2Ugd2F5IHRvIGRlYnVnICovXG4gIC8qXG4gICAgKGZ1bmN0aW9uIChkKSB7XG4gICAgICB2YXIgdyA9IGQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgIHQgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoZC5ib2R5LCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCksXG4gICAgICAgICAgYjtcbiAgICAgIHdoaWxlICh0Lm5leHROb2RlKCkpIHtcbiAgICAgICAgICBiID0gdC5jdXJyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBpZiAoYi5yaWdodCA+IHcgfHwgYi5sZWZ0IDwgMCkge1xuICAgICAgICAgICAgICB0LmN1cnJlbnROb2RlLnN0eWxlLnNldFByb3BlcnR5KCdvdXRsaW5lJywgJzFweCBkb3R0ZWQgcmVkJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0LmN1cnJlbnROb2RlKTtcbiAgICAgICAgICB9XG4gICAgICB9O1xuICB9KGRvY3VtZW50KSk7XG4gICovXG5cbn0pO1xuIl19
